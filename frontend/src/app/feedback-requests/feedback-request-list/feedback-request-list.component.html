<div class="container" fxLayout="row" fxLayoutAlign="center none">
    <div fxFlex="95%">
        <h1>Feedback Requests</h1>

        <div *ngFor="let feedback_request of feedback_requests">
        
            <mat-card class="example-card">
                <mat-card-content>
                    <mat-card-title>Feedback request for {{ feedback_request.reviewee_user.first_name }} {{ feedback_request.reviewee_user.last_name }}'s {{ feedback_request.review.name }} Performance Review</mat-card-title>
                    <mat-card-subtitle>Due date: {{ feedback_request.review.due_date }} | Requested by: ....</mat-card-subtitle>
                    <p>
                    {{ feedback_request.review.description }}
                    </p>
                    <hr>
                    <div *ngIf="feedback_request.is_submitted">
                        Feedback submitted on {{ feedback_request.submitted_at }}<br>
                        Feedback: {{ feedback_request.feedback }}<br>
                        Rate: {{ feedback_request.rating }}
                    </div>

                    <div *ngIf="!feedback_request.is_submitted">
                        Pending for submission
                    </div>
                    
                    <br>
                    <!--
                    <button mat-raised-button color="primary" (click)="openDialog()">Submit Feedback</button>
                    -->  

                    <button *ngIf="!feedback_request.is_submitted" mat-raised-button color="primary" [routerLink]="['/feedback-requests/edit', feedback_request.id]">Submit Feedback</button>
                </mat-card-content>
                
            </mat-card>
            <br><br>

        </div>
        

    </div>
</div>
